<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Website Browser</title>
    <link rel="Stylesheet" href="./style.css">
</head>
<body id="body">

    <!-- Toggle button  -->
    <button onclick="toggleTheme()" id="mode"></button>

    <h1>Welcome to the Background Music Website</h1>
    <p>ðŸ¤©ðŸ¥³Enjoy music while browsering the content !! ðŸ¥³ðŸ¤©</p>
    <p id="notification">Click anywhere on the page to enable music if it does not autoplay.</p>

    <!-- Options for selecting the songs -->
    <select id="SongSelect" onchange="changeSong(this.value)">
        <option value="Ishq hai.mp3" src="./Ishq Hai.mp3">Ishq hai</option>
        <option value="Tum Se Hi.mp3" src="./Tum Se Hi.mp3">Tum se he</option>
        <option value="Dekhha tenu.mp3 " src="./Dekhha Tenu.mp3">Dekha Tenu</option>
    </select>

    <!-- Actual audio  -->
    <audio id="bgMusic" loop>
        <source src="./Ishq Hai.mp3" type="audio/mp3">
        Opps!! Your Browser Does not Suppport this background -music features.
    </audio>

    <div class="controls">
        <button onclick="playMusic()">Play</button>
        <button onclick="pauseMusic()">Pause</button>
        <input type="range" id="volume" min="0" max="1"  step=0.1 onchange="setVolume(this.value)">
    </div>

    <script>
        const audio = document.getElementById("bgMusic");
        const notification = document.getElementById("notification");
        const volumeSlider = document.getElementById("volume");
        const modeBtn = document.getElementById("mode");
        const body = document.getElementById("body");

        
        document.body.addEventListener("click" ,() =>{
            if(audio.paused)
            {
                audio.play().then(() =>{
                    notification.style.display="none";
                }).catch(err =>
                    console.log("Ã„uto play blocked:" ,err));
            }
        },{once :true});

        // for playing the audio
        function playMusic()
        {
            audio.play();
        } 

        // pause function
        function pauseMusic()
        {
            audio.pause();
        }

        // set the req value
        function setVolume(value) {
            if (audio) {
                audio.volume = value;
                localStorage.setItem("volumeLevel", value); 
            }
        }
        function changeSong(song)
        {
            audio.src=song;
            audio.load();
            audio.play();
        }

        // Toggle theme
        function toggleTheme() {
            const body = document.getElementById("body");
            let currentMode = localStorage.getItem("theme") || "light";

            if (currentMode === "light")
            {
                body.style.backgroundColor = "#12172b"; 
                // body.style.backgroundColor = "black";  
                body.style.color = "white";
                modeBtn.innerHTML="ðŸŒž";
                localStorage.setItem("theme", "dark");
            } 
            else 
            {
                body.style.backgroundColor = "#ffe5b4"; 
                // body.style.backgroundColor = "white"; 
                body.style.color = "black";
                modeBtn.innerHTML="ðŸŒ™";
                localStorage.setItem("theme", "light");
            }
        }

        // this function will saved the theme which was apply last time
        window.onload = function() 
        {
            const savedTheme = localStorage.getItem("theme");

            if (savedTheme === "dark") 
            {
                body.style.backgroundColor = "black";
                body.style.color = "white";
                modeBtn.innerHTML = "ðŸŒž"; 
            } 
            else
            {
                body.style.backgroundColor = "white";
                body.style.color = "black";
                modeBtn.innerHTML = "ðŸŒ™";
            }
        };
    </script>
</body>
</html>


<!-- Implementation description

1.Firstly i had added one toggle button which on click will change the color of body => black(moon) /white(sun).
2.one paragraphy with id=notification which suggest the user if music will not play automatically => then anywhere in body it will start.
3.their is option to select the song from multiple songs.
4.controls button are added play/pause and one range to increase the volume of song (0-1).
5.functions to playMusic() .pauseMusic() ,changeSong().
6.saved the theme which was selected last time on window load. 

Challenges i faced

to store the theme on window load
-->